# 后台开发笔记


## 说明

这是关于 后台开发-核心技术与应用实践 的读书笔记, 笔记内存分布和书中章节的安排一致

## C++编程常用技术
### 函数模板
函数模板,实际上建立一个通用函数. 函数类型和形参不具体制定, 而用``一个虚拟的类型``代表. 这个通用函数就是函数模板

定义函数模板的一般格式:
```C++
template<typename T>
```

举例:
```C++
#include<iostream>
using namespace std; template<typename T>
T min(T a,T b,T c){
    
    if(a>b) a=b; 
    if(a>c) a=c;

    return a;
}
int main() {
    int a=l , b=2,c=3;
    cout<<min(a,b,c)<<endl;
    long long al=l000000000,bl=2000000000,cl=3000000000;
    cout<<min(al, bl, cl )<<endl;

    return O;
}
```

### do{}while(0) 的用处

```C++
#define fun1(x) {\
    statement1;\
    statement2;\
}

#define fun2(x) {\
    do {\
        statement1;\
        statement2;\
    }while(0)\
}

int main(void) {
    if(cond == 0)
        fun1(param);    // right
    else if(cond == 1) 
        fun2(param);    // wrong
    else 
        statement;

    return 0;
}

```

通过以上代码, 我们可以得知 do{}while(0) 可以防止宏定义函数产生的问题

### 条件编译+extern "C"

```C++
#ifdef _cplusplus
    extern "C" {
        // 如果定义了_cplusplus 则要加extern "C" 使得代码以C语言的语法进行编译
    }
#endif
```

## 面向对象的C++

### 静态成员方法

两种写法:``Class fun();`` 和 ``obj.fun();``

### 空类所占的大小为1byte

### 模板类
```C++
template <class T>
class Test {
    private:
        T x, y;
    public:
        Test(T a, T b) : x(a), y(b) {}
}

int main(void) {
    Test <int> i(1, 2);
    return 0;
}
```

### 单例模式

通过一个静态指针来保存唯一的对象实例, 并返回实例地址. 注意: ``构造方法必须为private``

## 常用STL的使用

### vector
#### 遍历vector
```C++
vector<int> vec = sourceVec;
vector<int> ::iterator iter;
for(iter = vec; iter != vec.end(); iter++) {
    // do something   
}
```

#### 增删元素
```C++
/* 添加 */
vec.push_back(item);
vec.insert(iter);
/* 删除 */
vec.pop_back();
vec.erase(iter);// 注意返回值是被删元素下一个元素
```
#### 缩小空间
```C++
// vector<int>().swap<vec>;
// vec.swap(vector<int>());
void clearVector(vector<T>)
```